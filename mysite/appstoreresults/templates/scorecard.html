{% extends "base.html" %} {% block extrahead%}
<link href="/static/css/custom.css" rel="stylesheet" />
<style>
  @font-face {
    font-family: "CustomFont";
    src: url("/static/media/customfont.ttf") format("truetype");
  }

  body {
    font-family: "CustomFont", sans-serif;
  }

  .transparent-text {
    opacity: 0;
  }

  .transparent-text:hover {
    opacity: 1;
  }
</style>

{% endblock %} {% block content %}

  <div class="col-sm-12" style="height: 100%; padding-bottom: 4%">
    <div
      class="container my-3 pt-3"
      style="
        background-color: var(--cvw-lavender);
        width: 95%;
        border-radius: 1.5em;
        height: 100%;
      "
    >
      <div
        class="card py-2 mx-auto my-2 rounded-3"
        style="background-color: #ffffff"
      >
        <div class="row mx-auto pb-3" style="padding-left: 2em">
          <div class="col-md-2 mt-2">
            <img class="img-fluid app-icon" src="{{appIcon}}" alt="App Icon" />
          </div>
          <div class="col-sm-7 pt-3" style="padding-left: 3%">
            <h1 class="" id="app-title" style="font: 3em Cascadia, monospace">
              {{ title }}
            </h1>
            <h3 class="" id="downloads" style="font: 1.5em Cascadia, monospace">
              {{ downloads }}
            </h3>
            
            <h3 class="" id="devWeb" style="font: 1.5em Cascadia, monospace">
              <a href="{{ devWeb }}"">{{Developer}}</a>
            </h3>
            <h3 class="" id="region" style="font: 1.5em Cascadia, monospace">
              {{ region }}
            </h3>
          </div>
          <div class="col-sm-3">
            <div class="text-center" style="float: right">
              <!-- card content -->
              <div class="score {{overallClass }}">
                <h2 id="overall-score" style="font: 4em Cascadia, monospace">
                  {{ overallScore }}
                </h2>
                <h3 id="overall-grade" style="font: 3em Cascadia, monospace">
                  {{ overallDesc }}
                </h3>
              </div>
              <h4
                class="text-center"
                id="overall-grade"
                style="font: 0.7em Cascadia, monospace"
              >
                Last updated {{ date }}
              </h4>
            </div>
          </div>
        </div>
      </div>
      <div class="card py-0" style="margin-top: 2%; background: #f3f2f8">
        <div
          class="accordion accordion-flush py-0 rounded-4"
          id="accordionFlushExample"
        >
          <!-- Category dropdown - Third Party Data Sharing-->
          <div class="accordion-item py-0">
            <h2 class="accordion-header py-0 my-0 mr-4" id="flush-headingOne">
              <button
                class="accordion-button collapsed"
                style="height: 7em !important; background-color: #f3f2f8"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#flush-collapseOne"
                aria-expanded="false"
                aria-controls="flush-collapseOne"
              >
                <div class="row" style="width: 100%">
                  <div class="col-sm-7" style="text-align: left">
                    <h3>
                      Third Party Sharing &nbsp;<span
                        ><i class="bi bi-info-circle info-icon"></i
                      ></span>
                    </h3>
                  </div>
                  <div
                    class="col-sm-5"
                    style="text-align: right; padding-right: 2%"
                  >
                    <h3 class=" score {{ thirdPartyClass}}">
                      {{ thirdPartyScore }} | {{ thirdPartyDesc }}
                    </h3>
                  </div>
                </div>
              </button>
            </h2>
            <!-- Detailed metrics view -->
            <div
              id="flush-collapseOne"
              class="accordion-collapse collapse py-0"
              aria-labelledby="flush-headingOne"
              data-bs-parent="#accordionFlushExample"
            >
              <div class="accordion-body">
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">Permits sharing with advertisers</h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ shareAdvertisers }}
                    </h4>
                  </div>
                </div>
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      Permits sharing with law enforcement
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ shareLawEnforcement }}
                    </h4>
                  </div>
                </div>
                <!-- <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">Permits sharing with data brokers</h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ shareDataBrokers }}
                    </h4>
                  </div>
                </div>
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      Permits sharing with healthcare providers
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ shareHealthCareProvider }}
                    </h4>
                  </div>
                </div> -->
              </div>
            </div>
          </div>

          <!-- Category dropdown - Data Encryption -->
          <div class="accordion-item py-0">
            <h2 class="accordion-header py-0 my-0 mr-4" id="flush-headingTwo">
              <button
                class="accordion-button collapsed"
                style="height: 7em !important; background-color: #f3f2f8"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#flush-collapseTwo"
                aria-expanded="false"
                aria-controls="flush-collapseTwo"
              >
                <div class="row" style="width: 100%">
                  <div class="col-sm-7" style="text-align: left">
                    <h3>
                      Data Encryption &nbsp;<span
                        ><i class="bi bi-info-circle info-icon"></i
                      ></span>
                    </h3>
                  </div>
                  <div
                    class="col-sm-5"
                    style="text-align: right; padding-right: 2%"
                  >
                    <h3 class="score {{ encryptionClass}}">
                      {{ dataEncryptionScore }} | {{ encryptionDesc }}
                    </h3>
                  </div>
                </div>
              </button>
            </h2>
            <!-- Detailed metrics view -->
            <div
              id="flush-collapseTwo"
              class="accordion-collapse collapse py-0"
              aria-labelledby="flush-headingTwo"
              data-bs-parent="#accordionFlushExample"
            >
              <div class="accordion-body">
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      Personal data is encrypted in transit
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ encryptedTransit }}
                    </h4>
                  </div>
                </div>
                <!-- <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      Personal data is encrypted on the device
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ encryptedOnDevice }}
                    </h4>
                  </div>
                </div>
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">Metadata is encrypted</h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ encryptedMetadata }}
                    </h4>
                  </div>
                </div> -->
              </div>
            </div>
          </div>

          <!-- Category dropdown  - Sensitive data -->
          <div class="accordion-item py-0">
            <h2 class="accordion-header py-0 my-0 mr-4" id="flush-headingThree">
              <button
                class="accordion-button collapsed"
                style="height: 7em !important; background-color: #f3f2f8"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#flush-collapseThree"
                aria-expanded="false"
                aria-controls="flush-collapseThree"
              >
                <div class="row" style="width: 100%">
                  <div class="col-sm-7" style="text-align: left">
                    <h3>
                      Sensitive Data Collection &nbsp;<span
                        ><i class="bi bi-info-circle info-icon"></i
                      ></span>
                    </h3>
                  </div>
                  <div
                    class="col-sm-5"
                    style="text-align: right; padding-right: 2%"
                  >
                    <h3 class="score {{ sensitiveDataClass}}">
                      {{ sensitiveDataScore }} | {{ sensitiveDataDesc }}
                    </h3>
                  </div>
                </div>
              </button>
            </h2>
            <!-- Detailed metrics view -->
            <div
              id="flush-collapseThree"
              class="accordion-collapse collapse py-0"
              aria-labelledby="flush-headingThree"
              data-bs-parent="#accordionFlushExample"
            >
              <div class="accordion-body">
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      Collects basic personal identifying information (name,
                      email, etc.)
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ collectPII }}
                    </h4>
                  </div>
                </div>
                <div class="row" style="height: 3em">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      Collects personal non-reproductive health information
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ collectHealthInfo }}
                    </h4>
                  </div>
                </div>
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      Collects personal reproductive health information
                      (pregnancy, period, etc.)
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ collectReproductiveInfo }}
                    </h4>
                  </div>
                </div>
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      Collects period calendar information
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ collectPeriodCalendarInfo }}
                    </h4>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Category dropdown  - Transparency and Agency -->
          <div class="accordion-item py-0">
            <h2 class="accordion-header py-0 my-0 mr-4" id="flush-headingFour">
              <button
                class="accordion-button collapsed"
                style="height: 7em !important; background-color: #f3f2f8"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#flush-collapseFour"
                aria-expanded="false"
                aria-controls="flush-collapseFour"
              >
                <div class="row" style="width: 100%">
                  <div class="col-sm-7" style="text-align: left">
                    <h3>
                      Transparency and Agency &nbsp;<span
                        ><i class="bi bi-info-circle info-icon"></i
                      ></span>
                    </h3>
                  </div>
                  <div
                    class="col-sm-5"
                    style="text-align: right; padding-right: 2%"
                  >
                    <h3 class="score {{ transparencyClass}}">
                      {{ transparencyScore }} | {{ transparencyDesc }}
                    </h3>
                  </div>
                </div>
              </button>
            </h2>
            <!-- Detailed metrics view -->
            <div
              id="flush-collapseFour"
              class="accordion-collapse collapse py-0"
              aria-labelledby="flush-headingFour"
              data-bs-parent="#accordionFlushExample"
            >
              <div class="accordion-body">
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      You can request a copy of your data
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ requestData }}
                    </h4>
                  </div>
                </div>
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      You can request deletion of personal data
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ requestDeletion }}
                    </h4>
                  </div>
                </div>
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      You can control which data the app collects
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ controlData }}
                    </h4>
                  </div>
                </div>
                <div class="row metric-row">
                  <div class="col-sm-9">
                    <h4 class="fw-light">
                      You can control who your data is shared with
                    </h4>
                  </div>
                  <div class="col-sm-3">
                    <h4 class="fw-bold" style="text-align: right">
                      {{ controlSharing }}
                    </h4>
                  </div>
                </div>
              </div>
            </div>
            <!--SUMMARY AND USER RESPONSE - CHATGPT-->
            <div
              class="card py-2 mx-auto my-2 rounded-3"
              style="background-color: #ffffff"
            >
              <h2 class="text-center py-3">Policy Summary & Analysis</h2>
              <div class="row mx-auto" style="padding-left: 2em">
                <h3>Policy Analysis</h3>
                <p>
                  {{ chatgpt_analysis }}
                </p>
              </div>
              <div class="row mx-auto pb-3" style="padding-left: 2em">
                <h3>Policy Citations</h3>
                <p>
                  {{ chatgpt_citations }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
